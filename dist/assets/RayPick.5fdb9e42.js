import{r as S,C as D,S as M,W as A,A as C,D as F,P as x,O as E,B as P,d as j,c as u,a as B,M as G,b as W,j as g,aI as H,X as I}from"./index.0d8aed65.js";import{i as L}from"./isMesh.6a639cba.js";const R=()=>(S.exports.useEffect(()=>{const f=new D,a=new M,o=new A({alpha:!0,antialias:!0,canvas:document.getElementById("canvas")}),d=document.getElementById("canvas-view");o.setSize(d.clientWidth,d.clientHeight);const p=new C("#DFDFDF",.4);a.add(p);const t=new F(16777215,1);t.position.set(50,50,-50),t.castShadow=!0,t.shadow.mapSize.width=1024,t.shadow.mapSize.height=1024,t.shadow.camera.near=1,t.shadow.camera.far=100,a.add(t);const r=new x(75,window.innerWidth/window.innerHeight,.1,1e3);r.position.set(0,50,50),new E(r,o.domElement),m(0,5,0,101),m(30,5,-10,202),v();const l=function(){requestAnimationFrame(l),o.setRenderTarget(null),o.render(a,r)};function m(n,s,e,h){const b=new P(10,10,10),y=new j({color:f.setHex(h)}),i=new u(b,y);i.name="cube"+h,i.position.set(n,s,e),i.castShadow=!0,a.add(i)}function v(){const n=new B(200,200,2),s=new G({color:"#C7DAFF",side:W}),e=new u(n,s);e.rotateX(-Math.PI/2),e.receiveShadow=!0,a.add(e)}l();const w=new H,c=new I;o.domElement.addEventListener("mousedown",n=>{c.x=n.clientX/window.innerWidth*2-1,c.y=-(n.clientY/window.innerHeight)*2+1,w.setFromCamera(c,r);const s=w.intersectObjects(a.children);console.log(s);const e=s[0].object;e&&L(e)&&!Array.isArray(e.material)&&(e.material.color.set("#ff0000"),e.material.needsUpdate=!0)})},[]),g("div",{id:"canvas-view",className:"w-full h-full",children:g("canvas",{id:"canvas"})}));export{R as default};
